type Global @entity {
  id: ID!
  gameFactory: Bytes!
  characterSheetsImpl: Bytes!
  classesImpl: Bytes!
  itemsImpl: Bytes!
  erc6551Registry: Bytes!
  erc6551AccountImpl: Bytes!
  owner: Bytes!
}

type Game @entity {
  id: ID!
  characterSheetsAddress: Bytes!
  classesAddress: Bytes!
  itemsAddress: Bytes!
  dao: Bytes!
  uri: String!
  owners: [Bytes!]!
  masters: [Bytes!]!
  characters: [Character!]! @derivedFrom(field: "game")
  classes: [Class!]! @derivedFrom(field: "game")
  items: [Item!]! @derivedFrom(field: "game")
  createdBy: Bytes!
  createdAt: BigInt!
}

type Character @entity {
  id: ID!
  name: String!
  characterId: BigInt!
  account: Bytes!
  owner: Bytes!
  uri: String!
  game: Game!
  experience: BigInt!
  items: [Item!]! @derivedFrom(field: "holders")
  classes: [Class!]! @derivedFrom(field: "holders")
  equippedItems: [Item!]!
  equippedClasses: [Class!]!
  createdAt: BigInt!
  createdBy: Bytes!
}

type Class @entity {
  id: ID!
  game: Game!
  classId: BigInt!
  uri: String!
  name: String!
  holders: [Character!]!
}

type Item @entity {
  id: ID!
  game: Game!
  itemId: BigInt!
  uri: String!
  name: String!
  holders: [Character!]!
}
